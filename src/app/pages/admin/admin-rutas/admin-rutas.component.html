<div class="rutason">
    <h3>Rutas en proceso:</h3>

    <mat-accordion>
        <mat-expansion-panel *ngFor="let ruta of rutasOn; let i = index">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    {{ruta.payload.doc._document.proto.fields.origenRuta.stringValue}}
                </mat-panel-title>
                <mat-panel-description>
                    {{ruta.payload.doc._document.proto.fields.destinoRuta.stringValue}} </mat-panel-description>
            </mat-expansion-panel-header>

            <div class="contenido-caja">


                <agm-map [latitude]="ruta.payload.doc._document.proto.fields.latD.doubleValue" [longitude]="ruta.payload.doc._document.proto.fields.altD.doubleValue" [zoom]="5">
                    <agm-polyline>
                        <agm-polyline-point [latitude]="ruta.payload.doc._document.proto.fields.latD.doubleValue" [longitude]="ruta.payload.doc._document.proto.fields.altD.doubleValue">
                            <agm-marker [latitude]="ruta.payload.doc._document.proto.fields.latD.doubleValue" [longitude]="ruta.payload.doc._document.proto.fields.altD.doubleValue"></agm-marker>

                        </agm-polyline-point>
                        <agm-polyline-point [latitude]="ruta.payload.doc._document.proto.fields.latO.doubleValue" [longitude]="ruta.payload.doc._document.proto.fields.altO.doubleValue">
                            <agm-marker [latitude]="ruta.payload.doc._document.proto.fields.latO.doubleValue" [longitude]="ruta.payload.doc._document.proto.fields.altO.doubleValue"></agm-marker>

                        </agm-polyline-point>
                    </agm-polyline>
                </agm-map>
                <hr>
                <div>
                    <p>Duración: <strong>{{ruta.payload.doc._document.proto.fields.duracion.stringValue}}</strong></p>
                    <p>Distancia: <strong> {{ruta.payload.doc._document.proto.fields.distancia.stringValue}}</strong></p>
                </div>
                <div class="botonones">
                    <button mat-button color="warn" (click)="completar(i)">Completar ruta</button>

                </div>
            </div>

        </mat-expansion-panel>

    </mat-accordion>
</div>
<hr>
<div class="rutasoff">
    <h3>Rutas completadas:</h3>
    <mat-accordion>
        <mat-expansion-panel *ngFor="let ruta of rutasOff">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    {{ruta.payload.doc._document.proto.fields.origenRuta.stringValue}}
                </mat-panel-title>
                <mat-panel-description>
                    {{ruta.payload.doc._document.proto.fields.destinoRuta.stringValue}} </mat-panel-description>
            </mat-expansion-panel-header>

            <div class="contenido-caja">


                <agm-map [latitude]="ruta.payload.doc._document.proto.fields.latD.doubleValue" [longitude]="ruta.payload.doc._document.proto.fields.altD.doubleValue" [zoom]="5">
                    <agm-polyline>
                        <agm-polyline-point [latitude]="ruta.payload.doc._document.proto.fields.latD.doubleValue" [longitude]="ruta.payload.doc._document.proto.fields.altD.doubleValue">
                            <agm-marker [latitude]="ruta.payload.doc._document.proto.fields.latD.doubleValue" [longitude]="ruta.payload.doc._document.proto.fields.altD.doubleValue"></agm-marker>

                        </agm-polyline-point>
                        <agm-polyline-point [latitude]="ruta.payload.doc._document.proto.fields.latO.doubleValue" [longitude]="ruta.payload.doc._document.proto.fields.altO.doubleValue">
                            <agm-marker [latitude]="ruta.payload.doc._document.proto.fields.latO.doubleValue" [longitude]="ruta.payload.doc._document.proto.fields.altO.doubleValue"></agm-marker>

                        </agm-polyline-point>
                    </agm-polyline>
                </agm-map>
                <hr>
                <div>
                    <p>Duración: <strong>{{ruta.payload.doc._document.proto.fields.duracion.stringValue}}</strong></p>
                    <p>Distancia: <strong> {{ruta.payload.doc._document.proto.fields.distancia.stringValue}}</strong></p>
                </div>
            </div>

        </mat-expansion-panel>

    </mat-accordion>
</div>